---
import { dateFormatter } from '../utils/date-formatter';
import LinkButton from './LinkButton.astro';

interface Props {
  company: string;
  companyLogo?: string;
  positionInTheCompany: string;
  isCurrentCompany?: boolean;
  startDate: Date;
  endDate: Date;
  description: string;
  redirectLink?: string;
}

const {
  company,
  description,
  endDate,
  positionInTheCompany,
  startDate,
  companyLogo,
  isCurrentCompany,
  redirectLink,
} = Astro.props;
---

<div class="flex gap-8">
  <div class="flex flex-col items-center w-10">
    <img
      class="size-10 rounded-full border border-gray-300 object-cover"
      alt={company}
      src={companyLogo}
    />

    <div class="bg-gray-300 w-px flex-1"></div>
  </div>

  <div class="flex flex-col md:flex-row flex-1 gap-10 pb-6">
    <div class="flex flex-col min-w-3xs">
      <h3 class="text-(--primary) text-xl">{positionInTheCompany}</h3>
      <span class="font-poppins text-xl">{company}</span>
      <span class="text-xl"
        >{isCurrentCompany ? "Currently" : dateFormatter(startDate, endDate)}</span
      >
    </div>

    <div class="flex flex-col gap-2 flex-1">
      <p>
        {description}
      </p>
      {redirectLink ? <LinkButton href={redirectLink} label='More Information'/> : null}
    </div>
  </div>
</div>
